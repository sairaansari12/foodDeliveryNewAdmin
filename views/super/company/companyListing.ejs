<!DOCTYPE html>
<html lang="en">
<%- include('../partials/header'); -%>
<style type="text/css">
.car-dekho-main .car-dekho-main-head-inner {
    width: 100%;
    background: #fff;
     font-size: 16px;
    font-weight: 600;
    text-align: center;
    vertical-align: middle;
    padding: 15px;
    border-bottom: 1px solid #ddd;
        display: flex;
    align-items: center;
    min-height: 104px;
    justify-content: center;

}
.car-dekho-main-border {
     border: 1px solid #ddd;
     box-shadow: 0px 0px 2px 0px rgba(0,0,0,0.2);
}
.car-dekho-main-head-inner  img {
    max-width: 110px;
    display: inline-block;
    margin-left: 8px;
}
.car-dekho-main-border .car-dekho-main-body-inner {
    font-size: 14px;
    color: #333;
    text-align: center;
    vertical-align: middle;
    width: 100%;
    padding: 15px;
    border-bottom: 1px solid #ddd;
    height: 55px;
}
.car-dekho-main-body-inner:nth-child(even){
    background: #f5f5f5;
}
.car-dekho-main-head, .car-dekho-main-body {
    display: flex;
    flex-wrap: wrap;
    width: 100%;
    align-items: center;
    border-bottom: 1px solid #ddd;
    background: #fff;
}
.car-dekho-main-head, .car-dekho-main-body .car-dekho-main-body-inner:nth-child(1) {
    border-right: 1px solid #ddd;
}
.car-dekho-main-border-inner {
    width: 25%;
}
.car-dekho-main-border {
    display: flex;
    flex-wrap: wrap;
}
</style>
<body class="loading">
    <!-- Begin page -->
    <div id="wrapper">
        <%- include('../partials/dashboardHeader'); -%>
        <div class="content-page">
            <div class="content">
                <!-- Start Content-->
                <div class="container-fluid">
                    <!-- start page title -->
                        <div class="row">
                            <div class="col-12">
                                <div class="page-title-box">
                                    <div class="page-title-right">
                                        <ol class="breadcrumb m-0">
                                            <li class="breadcrumb-item"><a href="javascript: void(0);">Dashboard</a></li>
                                            <li class="breadcrumb-item"><a href="javascript: void(0);">Restaurants</a></li>
                                        </ol>
                                    </div>
<<<<<<< HEAD
                                    <h4 class=form-label">Restaurants</h4>
=======
                                    <h4 class="page-title">Restaurants</h4>
>>>>>>> c9b29b9d9e81853210f0f8c2e3bb6a9a62639d05
                                </div>
                            </div>
                        </div>     
                        <!-- end page title --> 


<<<<<<< HEAD

                        <div class="row">
                            <div class="col-12">
                                    
                               
                                <div class="card-box">
                                 
                                    <div class="row">
    
                                        
                                        <div class="col-lg-12">
                                            <form  onkeypress="return event.keyCode != 13" class="form-inline">
                                                <div class="form-group">
                                                    <label for="inputPassword2" class="sr-only">Search</label>
                                                    <input type="search" class="form-control" id="search" placeholder="Search...">
                                                </div>
                                                <div class="form-group mx-sm-2">
                                                    <label for="status-select" class="mr-2">Sort By</label>
                                                    <select onchange="sorting()" class="custom-select" id="sortby-select">
                                                        <option value="createdAt#DESC">All</option>
                                                        <option value="createdAt#DESC">Recently Added</option>
                                                        <option value="createdAt#ASC">Older to New</option>
                                                        <option value="totalOrders#DESC">High Orders</option>
                                                        <option value="totalOrders#ASC">Low Orders</option>
                                                        <option value="rating#DESC">High Rating</option>
                                                        <option value="rating#ASC">Low Rating</option>
                                                    </select>
                                                </div>
    
                                                <div class="form-group mx-sm-2">
                                                    <label for="status-select" class="mr-2">Status</label>
                                                    <select onchange="itemTypeFilter()" class="custom-select" id="itemtype-select">
                                                        <option value="">All</option>
                                                        <option value="0">Inactive</option>
                                                        <option value="1">Active</option>
                                                       
    
                                                    </select>
                                                </div>
    
                                                <div class="form-group mx-sm-4">
                                                    <input type="hidden" name="selectCompany" value="" id="selectCompany">
                                                    <div class="text-lg-right mt-3 mt-lg-0">
                                                        <a href="javascript:;" onclick="compareCompany()"><button type="button" class="btn btn-info waves-effect waves-light mr-1" >Compare Restaurants</button></a>
                                                        <a href="<%- superadminpath %>company/add"><button type="button" class="btn btn-danger waves-effect waves-light mr-1"><i class="mdi mdi-plus-circle mr-1"></i> Add New</button></a>
                                                    </div>
                                                </div><!-- end col--> 



                                            </form>
                                        </div>
                                      
                                    </div> <!-- end row -->
                                </div> <!-- end card-box -->
                            </div> <!-- end col-->
                        </div>
                 
                        <!-- end row -->    
                    <!-- end row -->
                    <%-include ('../partials/flashMessage')%>
                   

                    <div class="row" id="appendData">
                       

                        </div>
                        <div class="row">
                            <div class="col-12" id="append_pagination">
                        </div>
                                       
=======
                        <div class="row">
                            <div class="col-12">
                                <div class="card-box">
                                    <div class="row">
                                        <!-- <div class="col-lg-8">
                                            <form class="form-inline">
                                                <div class="form-group">
                                                    <label for="inputPassword2" class="sr-only">Search</label>
                                                    <input type="search" class="form-control" id="inputPassword2" placeholder="Search...">
                                                </div>
                                                <div class="form-group mx-sm-3">
                                                    <label for="status-select" class="mr-2">Sort By</label>
                                                    <select class="custom-select" id="status-select">
                                                        <option>Select</option>
                                                        <option>Date</option>
                                                        <option selected>Name</option>
                                                        <option>Revenue</option>
                                                        <option>Employees</option>
                                                    </select>
                                                </div>
                                            </form>
                                        </div> -->

                                        <div class="col-lg-12">
                                            <input type="hidden" name="selectCompany" value="" id="selectCompany">
                                            <div class="text-lg-right mt-3 mt-lg-0">
                                                <a href="javascript:;" onclick="compareCompany()"><button type="button" class="btn btn-info waves-effect waves-light mr-1" >Compare Restaurants</button></a>
                                                <a href="<%- superadminpath %>company/add"><button type="button" class="btn btn-danger waves-effect waves-light mr-1"><i class="mdi mdi-plus-circle mr-1"></i> Add New</button></a>
                                            </div>
                                        </div><!-- end col-->
                                    </div> <!-- end row -->
                                </div> <!-- end card-box -->
                            </div><!-- end col-->
                        </div>
                        <!-- end row -->    
                    <!-- end row -->
                    <%-include ('../partials/flashMessage')%>
                    <% 
if(data==undefined || data==null || data=='{}' || data.length==0) {%>

                    <%-include ('../partials/norecord')%>


                    <%}else {%>

                    <div class="row">
                        <%for(var t=0;t<data.length;t++) {%>
                        <div class="col-lg-4">
                                <div class="card-box bg-pattern">
                                    <input type="checkbox" name="compare"  value="<%= data[t].id %>" class="checkbox" id="compare"><span style="margin-left: 5px;">Add to Compare</span>
                                    <div class="text-center">
                                        <% if (! data[t].logo1) { %>
                                        <img src="/dist/assets/images/users/user-1.jpg" class="rounded-circle img-thumbnail avatar-xl">
                                         <% }else { %>
                                        <img src="<%-data[t].logo1 %>" alt="logo" class="avatar-xl rounded-circle mb-3">
                                        <% } %>
                                        <h4 class="mb-1 font-20"><%-data[t].companyName %></h4>
                                        <p class="text-muted  font-14"><%-data[t].address1 %></p>
                                    </div>

                                    <p class="font-14 text-center text-muted">
                                        <%-data[t].email %> , <%-data[t].countryCode %><%-data[t].phoneNumber %>
                                    </p>

                                    <div class="text-center">
                                        <a href="<%-superadminpath%>company/view/<%= data[t].id %>" class="btn btn-sm btn-light">Update</a>
                                        <a class="btn btn-sm btn-danger"
                                                href="javascript:;" <%if(data[t].status==0){%> style="display:none"
                                                <%}%>  id="block_status_<%-data[t].id%>"
                                                onclick="StatusChange('<%= data[t].id %>','1')" class="btn small  bg-green  ">
                                                Block</a>
                                        <a class="btn btn-sm btn-success"
                                            href="javascript:;" <%if(data[t].status==1){%> style="display:none"
                                            <%}%>  id="unblock_status_<%-data[t].id%>"
                                            onclick="StatusChange('<%= data[t].id %>','0')" class="btn small  bg-red  ">
                                            Unblock</a>
                                    </div>

                                    <div class="row mt-4 text-center">
                                        <div class="col-6">
                                            <h5 class="font-weight-normal text-muted">Number of Orders</h5>
                                            <h4><%- data[t].totalOrders %></h4>
                                        </div>
                                        <div class="col-6">
                                            <h5 class="font-weight-normal text-muted">Tags</h5>
                                            <h4><%- data[t].tags %></h4>
                                        </div>
                                    </div>
                                </div> <!-- end card-box -->
                            </div><!-- end col -->


                        <%}%> </div>
                                        <%}%>

>>>>>>> c9b29b9d9e81853210f0f8c2e3bb6a9a62639d05
                        <!-- end row -->



                    </div> <!-- container -->

                </div> <!-- content -->

            </div>

            <!-- ============================================================== -->
            <!-- End Page content -->
            <!-- ============================================================== -->


<<<<<<< HEAD
     
   
    
=======
        </div>
>>>>>>> c9b29b9d9e81853210f0f8c2e3bb6a9a62639d05
        <!-- Long Content Scroll Modal -->
                                       <!-- Full width modal content -->
                                        <div id="full-width-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="fullWidthModalLabel" aria-hidden="true">
                                            <div class="modal-dialog modal-full-width">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" id="fullWidthModalLabel">Compare Restaurants</h4>
                                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                                    </div>
                                                    <div class="modal-body">
                                                         <div class="car-dekho-main">
                                                        <div class="container">
                                                            
                                                        </div>
                                                     </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-light" data-dismiss="modal">Close</button>
                                                        
                                                    </div>
                                                </div><!-- /.modal-content -->
                                            </div><!-- /.modal-dialog -->
                                        </div><!-- /.modal -->
        <!-- END wrapper -->
<<<<<<< HEAD


        <%- include('../partials/script'); -%>
        <%- include('../partials/commonJs'); -%>
    
    
=======
        <%- include('../partials/script'); -%>
          <%- include('../partials/commonJs'); -%>
>>>>>>> c9b29b9d9e81853210f0f8c2e3bb6a9a62639d05
</body>

</html>


<script>
<<<<<<< HEAD
   
   var currentPage=1
  var orderByInfo={'orderby':'createdAt',orderType:'DESC'}
 var status= ""

   $('#search').on( 'keyup', function (event) {
    event.preventDefault();

    if (event.keyCode === 13) {
     getFilter(1)
    } 
       
    });


    $(document).on('click', '.checkbox', function(){
=======
    $('#search').on('keyup', function () {
        console.log('search>>>>');
        setTimeout(function () { getSearch(1) }, 800);
    });
    $('.checkbox').click(function() {
>>>>>>> c9b29b9d9e81853210f0f8c2e3bb6a9a62639d05
        var favorite = [];
        $.each($("input[name='compare']:checked"), function(){
            favorite.push($(this).val());
        });
        if(favorite.length > 3)
        {
            showToastError("Sorry! Maximum three restaurants are allowed to compare!");
            return false;
        }
        $('#selectCompany').val(favorite);
        
    });

<<<<<<< HEAD
    
function getFilter(page)
{
        currentPage=page
        var page=1
        var limit=20

            var search = $('#search').val();
            $('#loading1').show()
                $.ajax({
                    url: '<%=superadminpath %>company/list',
                    type: 'POST',
                    data: {search: search,'orderByInfo':orderByInfo,'page':currentPage,'limit':limit,"status":status},
                    success: function(data){
                        $('#loading1').hide()
                        var html=""

                        if(data.code=="200")
                        {
                            
                       var obj=data.body.rows
                        $.each(obj,function(key,value){
                            
                
                         var ratings=getRating(value.rating)
                         var status=(value.status)==0?'Inactive':  'Active';
                         var statusClas=(value.status)==0?' bg-soft-danger': ' bg-soft-success';



                         html=html+ `<div class="col-lg-4">
                                <div class="card-box  product-box bg-pattern">

                                    <div class="product-action">

                                    <a href="<%-superadminpath%>company/permissions?id=${value.id}"  class="btn btn-success btn-xs waves-effect waves-light"><i class="mdi mdi-cog"></i>&nbsp;Permissions</a>
                                    <a href="javascript: void(0);"   onclick="deleteComp('${value.id}')" class="btn btn-danger btn-xs waves-effect waves-light"><i class="mdi mdi-close"></i>&nbsp;Delete</a>
                                </div>




                                    <input type="checkbox" name="compare"  value="${value.id}" class="checkbox" id="compare"><span style="margin-left: 5px;">Add to Compare</span>
                                    <div class="text-center">
                                       
                                        <img src="${value.logo1}"  onError="this.onerror=null;this.src='/assets/images/products/no-image.jpg';"  alt="logo" class="avatar-xl rounded-circle mb-3">
                                        
                                        <h4 class="mb-1 font-20">${value.companyName}</h4>
                                        <div class="text-warning mb-1 font-13">
                                                <a href="javascript:void(0)">${ratings}</a>
                                            </div>
                                        <p class="text-muted  font-14">${value.address1}</p>
                                    </div>

                                    <p class="font-14 text-center text-muted">
                                        ${value.email}, ${value.countryCode}${value.phoneNumber}
                                    </p>

                                    <div class="text-center">
                                        <a href="<%-superadminpath%>company/view/${value.id}" class="btn btn-sm btn-light">Update</a>
                                        
                                        <a class="btn btn-sm ${statusClas}"
                                            href="javascript:;"
                                              id="status_${value.id}"
                                            onclick="statusChange('${value.id}','${value.status}')">
                                            ${status}</a>
                                    </div>

                                    <div class="row mt-4 text-center">
                                        <div class="col-6">
                                            <h5 class="font-weight-normal text-muted">Number of Orders</h5>
                                            <h4>${value.totalOrders}</h4>
                                        </div>
                                        <div class="col-6">
                                            <h5 class="font-weight-normal text-muted">Tags</h5>
                                            <h5>${value.tags}</h5>
                                        </div>
                                    </div>
                                </div> 
                            </div>`

                          



                         

                        });
                       if(html=="") html="<h5 class='m-4'><span class='text-dark text-center'>No items in list</span></h5>";
                        $("#appendData").html(html);
                        appendPagination(currentPage,Math.ceil(data.body.count/limit))



                    }
                    else    showToastError(data.message)

                    },
                    error: function(response)
                {
                    $('#loading1').hide()

                   var errorResponse=JSON.parse(response.responseText)
                   showToastError(errorResponse.message)


                }
                })

        }


        function sorting()
    {
   var order=$('#sortby-select').val();
   var finalValue=order.split("#")
   orderByInfo.orderby=finalValue[0]
   orderByInfo.orderType=finalValue[1]
   getFilter(1)

    }
    
    function itemTypeFilter()
    {
   var order=$('#itemtype-select').val();
    status=order
   getFilter(1)

    }


        function appendPagination(currentPage,count)
    {
        var fd="";
        if (count >= 1) { 
            fd=fd+' <ul class="pagination pagination-rounded justify-content-end mb-3">'; 

            if (currentPage > 1) {            
              fd=fd+'<li class="page-item"><a class="page-link" onclick="getFilter(1)" href="javascript: void(0);" aria-label="Previous"> <span aria-hidden="true">«</span><span class="sr-only">Previous</span></a></li>';
            }
            else{
                fd=fd+'<li class="page-item"><a class="page-link disabled" href="javascript: void(0);" aria-label="Previous"> <span aria-hidden="true">«</span><span class="sr-only">Previous</span></a></li>';
            }
          var i = 1;
          if (currentPage > 5) {
          i = +currentPage - 4;
          } 
         // if (i !== 1) { 
         //      fd=fd+'<a  class="btn medium disabled ui-state-default" href="javascript:;">...</a>';
         //  } 
                         
         // alert(fd);
          
         
            for (i; i<=count; i++) {
                if (currentPage == i) { 
                  fd=fd+'<li class="page-item active"><a class="page-link" href="javascript: void(0);">'+currentPage+'</a></li>';
                } else {
                    fd=fd+'<li class="page-item"><a class="page-link" onclick="getFilter('+i+')" href="javascript: void(0);">'+i+'</a></li>';
                }
                if (i == (+currentPage + 4)) {
                    fd=fd+'<a  class="btn medium disabled ui-state-default" href="javascript:;">...</a>';
                 break; } 
              }
         
          
            if (currentPage != count) {
                fd=fd+'<li class="page-item"><a class="page-link" onclick="getFilter('+count+')" href="javascript: void(0);" aria-label="Previous"> <span aria-hidden="true">»</span><span class="sr-only">Next</span></a></li>';
            } 
            else{
                fd=fd+'<li class="page-item"><a class="page-link disabled" href="javascript: void(0);" aria-label="Previous"> <span aria-hidden="true">»</span><span class="sr-only">Next</span></a></li>';
            } 
             
            fd=fd+'</ul>';  
        } 

       
           $("#append_pagination").html(fd)  
    }
  



    function deleteComp(id)
    {

        if( confirm('Are you sure you want to delete this?'))
        {
            $.ajax({
                type: 'POST',
                url: '<%-superadminpath%>company/delete',
                dataType: 'json',
                data: {'id':id},
                success: function (response) {
                    if (response.code == '200') {
                    showToastSuccess(response.message)
                      getFilter(currentPage)    
                                               }
                    else{
                        showToastError(response.message)
                    }
                },
                error :function(response)
                {
                    var errorResponse=JSON.parse(response.responseText)
                 showToastError(errorResponse.message)


                }
            });
        }
    }


   
=======
    /**
    *@role Compare Resturants
    */
>>>>>>> c9b29b9d9e81853210f0f8c2e3bb6a9a62639d05
    function compareCompany() 
    {
        var id = $('#selectCompany').val();
        var array = id.split(",");
        if(array.length == 1)
        {
            showToastError("Sorry! Minimum two restaurants are allowed to compare!");
            return false;
        }
<<<<<<< HEAD
        window.location.href="<%-superadminpath %>company/compare?array="+array
       
    }

    function statusChange(id,status)
    {
        var confirm1= (status=="1") ? "Disable" : "Enable"

        if( confirm('Are you sure you want to '+confirm1+' this?'))
        {
            $.ajax({
                type: 'POST',
                url: '<%-superadminpath%>company/status',
                dataType: 'json',
                data: {'id':id,'status':status},
                success: function (response) {
                    //alert(response.code)
                    if (response.code == '200') {
                        
                        showToastSuccess(response.message)

                        getFilter(currentPage)


                    }
                    else{
                        showToastError(response.message)
                    }
                },
                error :function(response)
                {
                    var errorResponse=JSON.parse(response.responseText)
                 showToastError(errorResponse.message)
=======
        $('#full-width-modal').modal('show');
        $.ajax({
            type: 'POST',
            url: '<%-superadminpath %>compareRestaurants',
            dataType: 'json',
            data: { 'restaurantId': array },
            success: function (response) {
                console.log(response);
              
                if (response.code == '200') {
                    var data = response.body;
                    var html = "";
                    html +=  '<div class="car-dekho-main-border">';
                    html +=  '<div class="car-dekho-main-border-inner">';
                    html +=  '<div class="car-dekho-main-head-inner">Basic Information</div>';
                    html +=  '<div class="car-dekho-main-body-inner">Rating</div>';
                    html +=  '<div class="car-dekho-main-body-inner">Total Orders</div>';
                    html +=  '<div class="car-dekho-main-body-inner">Maximum Today Orders</div>';
                    html +=  '<div class="car-dekho-main-body-inner">Food Quantity Rating</div>';
                    html +=  '<div class="car-dekho-main-body-inner">Food Quality Rating</div>';
                    html +=  '<div class="car-dekho-main-body-inner">Packing Pres Rating</div></div>';
                    for (var i = 0; i < data.length; i++) {
                        html +=  '<div class="car-dekho-main-border-inner">';
                        html +=  '<div class="car-dekho-main-head-inner">';
                        html +=  ''+data[i].companyName+'<img class="hover" title="'+data[i].companyName+'" alt="'+data[i].companyName+'" src="'+data[i].logo1+'" style="height: 73px;width: 61px;">';
                        html +=  '</div>';
                        html +=  '<div class="car-dekho-main-body-inner">'+data[i].rating+'</div>';
                        html +=  '<div class="car-dekho-main-body-inner">'+data[i].totalOrders+'</div>';
                        html +=  '<div class="car-dekho-main-body-inner">'+data[i].totalOrders24+'</div>';
                        html +=  '<div class="car-dekho-main-body-inner">'+data[i].foodQuantityRating+'</div>';
                        html +=  '<div class="car-dekho-main-body-inner">'+data[i].foodQualityRating+'</div>';
                        html +=  '<div class="car-dekho-main-body-inner">'+data[i].packingPresRating+'</div>';
                        html +=  '</div>';
                    }
                    html +=  '</div>';
                    

                    $('.container').html(html);
                    if(data.length == '2')
                    {
                        console.log(data.length)
                        $(".car-dekho-main-border-inner").attr("style", "width: 33% !important");
                    }else{
                        console.log(data.length,'fsdgd')
                        $('.car-dekho-main-border-inner').css('width','25%');
                    }
                }
                else {

                    showToastError(response.message)
                }
            },

            error: function (response) {
                showToastError(response.message)

            }
        });

    }

    function StatusChange(id, status) {

        var confirm1 = (status == "1") ? "Block" : "Unblock"
        if (confirm('Are you sure you want to ' + confirm1 + ' this?')) {
            $.ajax({
                type: 'POST',
                url: '<%-superadminpath %>company/status',
                dataType: 'json',
                data: { 'id': id, 'status': status },
                success: function (response) {
                    if (response.code == '200') {
                        // $('#block_status_'+id).html('');

                        if (status == "1") {
                            $('#block_status_' + id).hide()
                            $('#unblock_status_' + id).show()
                            showToastSuccess("Company blocked successfully")
                        } else {
                            $('#block_status_' + id).show();
                            $('#unblock_status_' + id).hide();
                            showToastSuccess("Company active successfully");
                        }

                    }
                    else {

                        showToastError(response.message)
                    }
                },

                error: function (response) {
                    showToastError(response.message)
>>>>>>> c9b29b9d9e81853210f0f8c2e3bb6a9a62639d05

                }
            });
        }
    }



<<<<<<< HEAD
    getFilter(1)


   
    
=======

    function getSearch(currentPage) {
        currentPage = currentPage
        var search = $('#search').val()
        var limit = 40
        $('#loading1').show()
        var status = $('#status').val();

        //alert(fromDate)
        $.ajax({
            type: 'POST',
            url: '<%-adminpath%>employees/search',
            dataType: 'json',
            data: { 'search': search, 'page': currentPage, 'limit': limit },
            success: function (response) {
                $('#loading1').hide()
                console.log('response>>>>>>>>>>>',response);

                // if (response.code == '200') {
                //     var row = "";
                //     console.log(response)
                //     $('#orderData').html('')
                //     var data1 = response.body.data
                //     var data = response.body.data.rows
                //     for (var t = 0; t < data.length; t++) {


                //         var status = "Pending"
                //         var Payment = "Failed"
                //         var paymentBg = "bg-red"
                //         if (data[t].progressStatus == "1") status = "Confirmed"
                //         if (data[t].progressStatus == "2") status = "Cancelled"
                //         if (data[t].progressStatus == "3") status = "Processing"
                //         if (data[t].progressStatus == "4") status = "Cancelled-Comapny"
                //         if (data[t].progressStatus == "5") status = "Completed"

                //         var btnBg = getOrderColor(data[t].progressStatus)
                //         if (data[t].payment && data[t].payment.transactionStatus == "1") {
                //             Payment = "Success"
                //             paymentBg = "bg-green"
                //         }


                //         row = row + '<tr id="row_' + data[t].id + '">' +
                //             '			<td>' + data[t].orderNo + ' </td>' +
                //             '			<td>' + data[t].user.firstName + " " + data[t].user.lastName + ' </td>' +
                //             '			<td>' + format(new Date(data[t].serviceDateTime)) + ' </td>' +
                //             '            <td>' + data[t].user.countryCode + " " + data[t].user.phoneNumber + '</td>' +
                //             '            <td>' + data[t].totalOrderPrice + '</td>' +
                //             '            <td>' +
                //             '             <a href="javascript:;"  class="btn ' + paymentBg + ' font-size-10 pad5A tooltip-button" data-placement="bottom" title="Open modal window"   >' +
                //             '                <span class="button-content">' +
                //             '                    <i class="glyph-icon icon-money float-left"></i>' +
                //             '<span>' + Payment + ' <span>' +
                //             '                </span>' +
                //             '            </a></td>' +
                //             '            <td>' + (data[t].address != null ? data[t].address.houseNo + " " + data[t].address.addressName + " ," + data[t].address.city : "") + '</td>' +
                //             '            <td>' + format(new Date(data[t].createdAt)) + '</td>              ' +
                //             '              ' +
                //             '            <td>' +
                //             '             <a href="javascript:;"  class="btn ' + btnBg + ' font-size-10 pad5A tooltip-button  black-modal-60" data-placement="bottom" title="Open modal window"  id="block_status_' + data[t].id + '"  onclick="showModal(\'' + data[t].id + '\',\'' + data[t].progressStatus + '\')" >' +
                //             '                <input type="hidden"  value="' + data[t].progressStatus + '" id="block_statusvalue_' + data[t].id + '">' +
                //             '                <span class="button-content">' +
                //             '                    <i class="glyph-icon icon-cog float-left"></i>' +
                //             '<span id="block_statustext_' + data[t].id + '">' + status + ' <span>' +
                //             '                </span>' +
                //             '            </a>' +
                //             '             <div class="dropdown">' +
                //             '                <a href="javascript:;" title="" class="btn small bg-blue dropdown-toggle" data-toggle="dropdown">' +
                //             '                    <span class="button-content">' +
                //             '                        <i class="glyph-icon font-size-11 icon-cog"></i>' +
                //             '                        <i class="glyph-icon font-size-11 icon-chevron-down"></i>' +
                //             '                    </span>' +
                //             '                </a>' +
                //             '                <ul class="dropdown-menu float-right">' +
                //             '                    <li>' +
                //             '                        <a href="<%-adminpath%>orders/view/' + data[t].id + '" title="">' +
                //             '                            <i class="glyph-icon icon-edit mrg5R"></i>' +
                //             '                            View' +
                //             '                        </a>' +
                //             '                    </li>' +
                //             '                    <li class="divider"></li>' +
                //             '                    <li>' +
                //             '                        <a onclick="return confirm(\'Are you sure you want to delete this?\');"  href="<%-adminpath%>orders/delete/' + data[t].id + '" data-id="' + data[t].id + '" class="font-red" title="">' +
                //             '                            <i class="glyph-icon icon-archive mrg5R"></i>' +
                //             '                            Delete' +
                //             '                        </a>' +
                //             '                    </li>' +
                //             '                </ul>' +
                //             '            </div>' +
                //             '            </td>		' +
                //             '        </tr>';

                //     }

                //     if (row == "") {
                //         $('#orderData').html('&nbsp;&nbsp;&nbsp;No matching records found')

                //     }
                //     else $('#orderData').html(row);
                //     appendPagination(currentPage, Math.ceil(data1.count / limit))
                //     appendStat(response.body.counts)

                // }
                // else {

                //     showToastError(response.message)
                // }
            },

            error: function (response) {
                $('#loading1').hide()
                console.log('else response>>>',response);

                // showToastError(response.message)

            }
        });
    }
>>>>>>> c9b29b9d9e81853210f0f8c2e3bb6a9a62639d05
</script>